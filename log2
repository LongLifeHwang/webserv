========parser========
lexeme: events
tag: 260
in context
main
tag: 123
in headDirective
lexeme: worker_connections
tag: 259
tag: 258
tag: 59
tag: 125
lexeme: error_log
tag: 259
lexeme: log/error.log
tag: 256
lexeme: error
tag: 256
tag: 59
lexeme: http
tag: 260
in context
main
tag: 123
in headDirective
lexeme: keepalive_timeout
tag: 259
keepalive_timeout
lexeme: 75s
tag: 264
tag: 59
lexeme: client_max_body_size
tag: 259
client_max_body_size
lexeme: 100m
tag: 263
tag: 59
lexeme: server
tag: 260
in context
http
in server
tag: 123
in headDirective
lexeme: listen
tag: 259
tag: 258
lexeme: default_server
tag: 256
tag: 59
lexeme: server_name
tag: 259
lexeme: localhost
tag: 256
tag: 59
lexeme: client_max_body_size
tag: 259
client_max_body_size
lexeme: 100m
tag: 263
tag: 59
lexeme: location
tag: 260
in context
server
lexeme: /
tag: 256
in headDirective
tag: 123
lexeme: limit_except
tag: 260
in context
location
lexeme: GET
tag: 265
in headDirective
tag: 123
tag: 125
lexeme: keepalive_timeout
tag: 259
limit_except: 0x606000004fa0
keepalive_timeout
lexeme: 10s
tag: 264
tag: 258
tag: 59
lexeme: root
tag: 259
lexeme: /Users/inghwang/Documents/42seoul/together/resource/html
tag: 256
tag: 59
lexeme: index
tag: 259
lexeme: index.html
tag: 256
tag: 59
tag: 125
lexeme: location
tag: 260
location: 0x606000004fa0
0x603000002320 : 0x606000004fa0
in context
server
lexeme: /upload
tag: 256
in headDirective
tag: 123
lexeme: root
tag: 259
lexeme: /Users/inghwang/Documents/42seoul/together/cgi-bin
tag: 256
tag: 59
lexeme: index
tag: 259
lexeme: upload.py
tag: 256
tag: 59
lexeme: fastcgi_param
tag: 259
lexeme: UPLOAD_PATH
tag: 256
lexeme: ./uploads
tag: 256
tag: 59
lexeme: limit_except
tag: 260
in context
location
lexeme: GET
tag: 265
in headDirective
lexeme: POST
tag: 265
tag: 123
tag: 125
tag: 125
limit_except: 0x606000005780
lexeme: location
tag: 260
location: 0x606000005780
0x603000002320 : 0x606000005780
in context
server
lexeme: /new-page
tag: 256
in headDirective
tag: 123
lexeme: return
tag: 259
lexeme: 301
tag: 262
lexeme: http://www.google.com
tag: 256
tag: 59
tag: 125
lexeme: location
tag: 260
location: 0x606000005d20
0x603000002320 : 0x606000005d20
in context
server
lexeme: /custom_error_page
tag: 256
in headDirective
tag: 123
lexeme: error_page
tag: 259
lexeme: 404
tag: 262
lexeme: ./resource/html/error/404.html
tag: 256
tag: 59
tag: 125
lexeme: location
tag: 260
location: 0x606000005e40
0x603000002320 : 0x606000005e40
in context
server
lexeme: /new-page1
tag: 256
in headDirective
tag: 123
lexeme: return
tag: 259
lexeme: 301
tag: 262
lexeme: /
tag: 256
tag: 59
tag: 125
tag: 125
location: 0x606000005f00
0x603000002320 : 0x606000005f00
lexeme: server
tag: 260
in context
http
in server
tag: 123
in headDirective
lexeme: listen
tag: 259
tag: 258
lexeme: default_server
tag: 256
tag: 59
lexeme: server_name
tag: 259
lexeme: localhost2
tag: 256
tag: 59
lexeme: location
tag: 260
in context
server
lexeme: /
tag: 256
in headDirective
tag: 123
lexeme: limit_except
tag: 260
in context
location
lexeme: GET
tag: 265
in headDirective
lexeme: DELETE
tag: 265
lexeme: POST
tag: 265
tag: 123
tag: 125
lexeme: keepalive_timeout
tag: 259
limit_except: 0x6060000060e0
keepalive_timeout
lexeme: 75s
tag: 264
keepalive_timeout
lexeme: 75s
tag: 264
tag: 59
lexeme: root
tag: 259
lexeme: /Users/inghwang/Documents/42seoul/together/resource/html
tag: 256
tag: 59
lexeme: index
tag: 259
lexeme: index.html
tag: 256
tag: 59
lexeme: location
tag: 260
in context
location
lexeme: ~*
tag: 266
in headDirective
lexeme: .html
tag: 256
tag: 123
lexeme: root
tag: 259
lexeme: /Users/inghwang/Documents/42seoul/together/resource/html
tag: 256
tag: 59
lexeme: index
tag: 259
lexeme: index.html
tag: 256
tag: 59
tag: 125
tag: 125
location: 0x6060000066e0
0x6060000060e0 : 0x6060000066e0
lexeme: location
tag: 260
location: 0x6060000060e0
0x603000003490 : 0x6060000060e0
in context
server
lexeme: /cgi-bin
tag: 256
in headDirective
tag: 123
lexeme: root
tag: 259
lexeme: /Users/inghwang/Documents/42seoul/together
tag: 256
tag: 59
lexeme: location
tag: 260
in context
location
lexeme: ~*
tag: 266
in headDirective
lexeme: .php
tag: 256
tag: 123
tag: 125
lexeme: location
tag: 260
location: 0x606000006ce0
0x606000006c20 : 0x606000006ce0
in context
location
lexeme: ~*
tag: 266
in headDirective
lexeme: .py
tag: 256
tag: 123
tag: 125
tag: 125
location: 0x606000006da0
0x606000006c20 : 0x606000006da0
lexeme: location
tag: 260
location: 0x606000006c20
0x603000003490 : 0x606000006c20
in context
server
lexeme: /upload
tag: 256
in headDirective
tag: 123
lexeme: root
tag: 259
lexeme: /Users/inghwang/Documents/42seoul/together
tag: 256
tag: 59
lexeme: location
tag: 260
in context
location
lexeme: ~*
tag: 266
in headDirective
lexeme: .php
tag: 256
tag: 123
tag: 125
lexeme: location
tag: 260
location: 0x606000006f20
0x606000006e60 : 0x606000006f20
in context
location
lexeme: ~*
tag: 266
in headDirective
lexeme: .py
tag: 256
tag: 123
tag: 125
tag: 125
location: 0x606000006fe0
0x606000006e60 : 0x606000006fe0
lexeme: location
tag: 260
location: 0x606000006e60
0x603000003490 : 0x606000006e60
in context
server
lexeme: /moved
tag: 256
in headDirective
tag: 123
lexeme: fastcgi_pass
tag: 259
lexeme: abc
tag: 256
tag: 59
tag: 125
lexeme: location
tag: 260
location: 0x6060000070a0
0x603000003490 : 0x6060000070a0
in context
server
lexeme: /new-page
tag: 256
in headDirective
tag: 123
lexeme: return
tag: 259
lexeme: 301
tag: 262
lexeme: http://www.google.com
tag: 256
tag: 59
tag: 125
tag: 125
location: 0x606000007160
0x603000003490 : 0x606000007160
lexeme: server
tag: 260
in context
http
in server
tag: 123
in headDirective
lexeme: listen
tag: 259
tag: 258
tag: 59
lexeme: server_name
tag: 259
lexeme: www.onepiece.com
tag: 256
tag: 59
lexeme: location
tag: 260
in context
server
lexeme: /
tag: 256
in headDirective
tag: 123
lexeme: root
tag: 259
lexeme: /Users/inghwang/Documents/42seoul/together/resource/html
tag: 256
tag: 59
lexeme: index
tag: 259
lexeme: onepiece.html
tag: 256
tag: 59
tag: 125
tag: 125
location: 0x606000007340
0x6030000047e0 : 0x606000007340
lexeme: server
tag: 260
in context
http
in server
tag: 123
in headDirective
lexeme: listen
tag: 259
tag: 258
tag: 59
lexeme: server_name
tag: 259
lexeme: www.onepiece.com
tag: 256
tag: 59
lexeme: error_page
tag: 259
lexeme: 404
tag: 262
lexeme: ./resource/html/error/404.html
tag: 256
tag: 59
lexeme: location
tag: 260
in context
server
lexeme: /
tag: 256
in headDirective
tag: 123
lexeme: root
tag: 259
lexeme: /Users/inghwang/Documents/42seoul/together/resource/html
tag: 256
tag: 59
lexeme: index
tag: 259
lexeme: onepiece.html
tag: 256
tag: 59
tag: 125
tag: 125
location: 0x606000007940
0x603000004e40 : 0x606000007940
lexeme: server
tag: 260
in context
http
in server
tag: 123
in headDirective
lexeme: listen
tag: 259
tag: 258
tag: 59
lexeme: server_name
tag: 259
lexeme: abc
tag: 256
tag: 59
tag: 125
lexeme: fastcgi_param
tag: 259
lexeme: abc
tag: 256
lexeme: def
tag: 256
tag: 59
tag: 125
tag: -1
tag: -1
num server: 5
/
/custom_error_page
/new-page
/new-page1
/upload


========http message========
server port open.
11 client close
temp delete
plus client 11
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 719
...startline parsing...
80
...headerline parsing...
response in location: 0x6190000007c0
url /
location /
url: 
temp: 
location: /
path: /
location 0x614000000068
lower location /
location here: 0x614000000068
port: 80
host : localhost
1
str before: /
requestPath: /Users/inghwang/Documents/42seoul/together/resource/html//
resolved path: /Users/inghwang/Documents/42seoul/together/resource/html
index: index.html
str: /Users/inghwang/Documents/42seoul/together/resource/html///index.html
str: /Users/inghwang/Documents/42seoul/together/resource/html///index.html
Method: GET
/Users/inghwang/Documents/42seoul/together/resource/html///index.html
Content Size: 694
NOtCGI
time : Wed Aug 28 20:16:24 2024
=====strat line=====
fd : 11
1 1 /
=====header line=====
accept: text/html  application/xhtml+xml  application/xml;q=0.9  image/avif  image/webp  image/apng  */*;q=0.8  application/signed-exchange;v=b3;q=0.7  
accept-encoding: gzip  deflate  br  
accept-language: ko-KR  ko;q=0.9  en-US;q=0.8  en;q=0.7  
connection: keep-alive  
cookie: session_id=FZXC0wg0LvaJ6atJJx2a  
host: localhost  
sec-ch-ua: Chromium;v=116  Not)A;Brand;v=24  Google Chrome;v=116  
sec-ch-ua-mobile: ?0  
sec-ch-ua-platform: macOS  
sec-fetch-dest: document  
sec-fetch-mode: navigate  
sec-fetch-site: none  
sec-fetch-user: ?1  
upgrade-insecure-requests: 1  
user-agent: Mozilla/5.0  AppleWebKit/537.36  Chrome/116.0.0.0 Safari/537.36  


12 client close
temp delete
plus client 12
store[i].ident: 11
write
11 882
keep-alive
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 17316
...startline parsing...
80
...headerline parsing...
response in location: 0x6190000007c0
url /upload/upload.py
location /upload
url: /upload.py
temp: 
location: /upload
path: /upload
location 0x614000000868
lower location /upload
location here: 0x614000000868
cotnent-type
cotnent-type: multipart/form-data
boundary: ----WebKitFormBoundaryQq9OeRD9RAKGYYF7
...setBodyLine parsing...
./.tempContent/11
MAkE FILE
fileName: ./.tempContent/11
content Length: 1714686 16384
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 1698302 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 1632766 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 1567230 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 1501694 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 1436158 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 1370622 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 1305086 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 1239550 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 1174014 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 1108478 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 1042942 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 977406 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 911870 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 846334 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 780798 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 715262 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 649726 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 584190 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 518654 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 453118 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 387582 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 322046 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 256510 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 190974 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 65536
...setBodyLine parsing...
content Length: 125438 65536
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 59902
...setBodyLine parsing...
content Length: 59902 59902
port: 80
host : localhost
2
str before: /upload/upload.py
requestPath: /Users/inghwang/Documents/42seoul/together/cgi-bin//upload/upload.py
resolved path: /Users/inghwang/Documents/42seoul/together/cgi-bin/upload/upload.py
str: /Users/inghwang/Documents/42seoul/together/cgi-bin//upload/upload.py
str: /Users/inghwang/Documents/42seoul/together/cgi-bin//upload/upload.py
Method: POST
content-length: 1714686
content-type: multipart/form-data
boundary here
upload path: ./uploads
PATH ENV : /Users/inghwang/local/php/bin:/Users/inghwang/.brew/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/share/dotnet:/usr/local/munki:~/.dotnet/tools:/Library/Apple/usr/bin:/Users/inghwang/local/php/bin:/Users/inghwang/.brew/bin
/Users/inghwang/local/php/bin
/Users/inghwang/.brew/bin
/usr/local/bin
/usr/bin
/bin
/usr/sbin
/sbin
/usr/local/share/dotnet
/usr/local/munki
~/.dotnet/tools
/Library/Apple/usr/bin
/Users/inghwang/local/php/bin
/Users/inghwang/.brew/bin
PATH : /Users/inghwang/local/php/bin
/Users/inghwang/local/php/bin/python3
PATH : /Users/inghwang/.brew/bin
/Users/inghwang/.brew/bin/python3
PATH : /usr/local/bin
/usr/local/bin/python3
good: 0
YES CGI
time : Wed Aug 28 20:16:24 2024
=====strat line=====
fd : 11
2 1 /upload/upload.py
pipe fd: 13, 14
=====header line=====
accept: text/html  application/xhtml+xml  application/xml;q=0.9  image/avif  image/webp  image/apng  */*;q=0.8  application/signed-exchange;v=b3;q=0.7  
accept-encoding: gzip  deflate  br  
accept-language: ko-KR  ko;q=0.9  en-US;q=0.8  en;q=0.7  
cache-control: max-age=0  
connection: keep-alive  
content-length: 1714686  
content-type: multipart/form-data  ----WebKitFormBoundaryQq9OeRD9RAKGYYF7  
cookie: session_id=FZXC0wg0LvaJ6atJJx2a  
host: localhost  
origin: http://localhost  
referer: http://localhost/  
sec-ch-ua: Chromium;v=116  Not)A;Brand;v=24  Google Chrome;v=116  
sec-ch-ua-mobile: ?0  
sec-ch-ua-platform: macOS  
sec-fetch-dest: document  
sec-fetch-mode: navigate  
sec-fetch-site: same-origin  
sec-fetch-user: ?1  
upgrade-insecure-requests: 1  
user-agent: Mozilla/5.0  AppleWebKit/537.36  Chrome/116.0.0.0 Safari/537.36  


store[i].ident: 13
read
READ EVENT CGI 13
cgiRead fd: 13
CGI Read Size : 43
store[i].ident: 13
read
READ EVENT CGI 13
cgiRead fd: 13
CGI Read Size : 0
ERROR Kq::cgiFd[store.ident] : 11
cgiContentLength: 43
cgi crlf READ: status:302
heeh
302
status satt
status : 302cgi crlf READ: location:/upload_success.html
heeh
location : /upload_success.htmlcgi pos: 43
dhjasfkljlasdk
responseAmount: 209
msg: HTTP/1.1 302 Found
date: Wed, 28 Aug 2024 20:16:24 GMT
server: inghwang/0.0
connection: keep-alive
session: Wed, 28 Aug 2024 20:16:24 GMT
status: 302
location: /upload_success.html
content-length: 0


status: 302
11
iter->first: 13
store[i].ident: 13
read
READ EVENT CLIENT 13
No enroll: 13
store[i].ident: 11
write
11 209
keep-alive
store[i].ident: 11
read
READ EVENT CLIENT 11
Client Read 799
...startline parsing...
80
...headerline parsing...
response in location: 0x6190000007c0
url /upload_success.html
location /upload
url: _success.html
temp: 
location: /upload
path: /upload
location 0x614000000868
lower location /upload
location here: 0x614000000868
port: 80
host : localhost
2
str before: /upload_success.html
requestPath: /Users/inghwang/Documents/42seoul/together/cgi-bin//upload_success.html
403 1
ERROR

makeError
403
11
errorPath: 
upload path: ./uploads
PATH ENV : /Users/inghwang/local/php/bin:/Users/inghwang/.brew/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/share/dotnet:/usr/local/munki:~/.dotnet/tools:/Library/Apple/usr/bin:/Users/inghwang/local/php/bin:/Users/inghwang/.brew/bin
/Users/inghwang/local/php/bin
/Users/inghwang/.brew/bin
/usr/local/bin
/usr/bin
/bin
/usr/sbin
/sbin
/usr/local/share/dotnet
/usr/local/munki
~/.dotnet/tools
/Library/Apple/usr/bin
/Users/inghwang/local/php/bin
/Users/inghwang/.brew/bin
PATH : /Users/inghwang/local/php/bin
/Users/inghwang/local/php/bin/python3
PATH : /Users/inghwang/.brew/bin
/Users/inghwang/.brew/bin/python3
PATH : /usr/local/bin
/usr/local/bin/python3
YES CGI
time : Wed Aug 28 20:16:25 2024
=====strat line=====
fd : 11
1 1 /upload_success.html
pipe fd: 13, 14
=====header line=====
accept: text/html  application/xhtml+xml  application/xml;q=0.9  image/avif  image/webp  image/apng  */*;q=0.8  application/signed-exchange;v=b3;q=0.7  
accept-encoding: gzip  deflate  br  
accept-language: ko-KR  ko;q=0.9  en-US;q=0.8  en;q=0.7  
cache-control: max-age=0  
connection: keep-alive  
cookie: session_id=FZXC0wg0LvaJ6atJJx2a  
host: localhost  
referer: http://localhost/  
sec-ch-ua: Chromium;v=116  Not)A;Brand;v=24  Google Chrome;v=116  
sec-ch-ua-mobile: ?0  
sec-ch-ua-platform: macOS  
sec-fetch-dest: document  
sec-fetch-mode: navigate  
sec-fetch-site: same-origin  
sec-fetch-user: ?1  
upgrade-insecure-requests: 1  
user-agent: Mozilla/5.0  AppleWebKit/537.36  Chrome/116.0.0.0 Safari/537.36  


store[i].ident: 13
read
READ EVENT CGI 13
cgiRead fd: 13
CGI Read Size : 648
store[i].ident: 13
read
READ EVENT CGI 13
cgiRead fd: 13
CGI Read Size : 0
ERROR Kq::cgiFd[store.ident] : 11
cgiContentLength: 648
cgi crlf READ: content-type: text/html
heeh
content-type :  text/htmlcgi pos: 25
dhjasfkljlasdk
responseAmount: 819
msg: HTTP/1.1 403 Forbidden
date: Wed, 28 Aug 2024 20:16:25 GMT
server: inghwang/0.0
connection: keep-alive
session: Wed, 28 Aug 2024 20:16:24 GMT
content-type:  text/html
content-length: 623

<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='UTF-8'>
<title>Error Page</title>
<style>
body { font-family: Arial, sans-serif; margin: 20px; }
.container { max-width: 800px; margin: auto; }
h1 { color: #d9534f; }
p { font-size: 18px; }
.error-code { font-size: 24px; font-weight: bold; }
</style>
</head>
<body>
<div class='container'>
<h1>Error Page</h1>
<p>We're sorry, but something went wrong.</p>
<p>Error code: 403</p>
<p class='error-code'>403 Forbidden</p>
<p>Time of error: 2024-08-28 20:16:25</p>
<div>
<img src='https://http.cat/403' alt='HTTPCats error img' width='100%'>
</div>
</div>
</body>
</html>

status: 0
11
iter->first: 13
store[i].ident: 13
read
READ EVENT CLIENT 13
No enroll: 13
store[i].ident: 11
write
11 819
keep-alive
